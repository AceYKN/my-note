# 环的直积直和与中国剩余定理 习题详解
---

### **题目 1：环的内直和判别准则（定理 3.4.1）**

**题目内容：**
假设 $R$ 是一个环，且 $\{R_i\}_{i \in I}$ 是 $R$ 的一族理想，使得 $R = \langle \bigcup_{i \in I} R_i \rangle$（即 $R$ 由这些理想的并集生成，或者说 $R$ 是这些理想的和 $R = \sum_{i \in I} R_i$）。证明以下命题是等价的：
1.  定义映射 $\sigma: \coprod_{i \in I} R_i \to R$ 为 $(r_i)_{i \in I} \mapsto \sum_{i \in I} r_i$，该映射 $\sigma$ 是一个同构 (Isomorphism)。
2.  $R$ 中的任意元素 $r$ 都可以**唯一**地表示为来自 $R_i$ 的元素之和。
3.  零元素 $0 \in R$ 可以**唯一**地表示为来自 $R_i$ 的元素之和（即全为0的表示）。
4.  对于任意 $k \in I$，都有 $R_k \bigcap \left( \sum_{j \neq k} R_j \right) = \{0\}$。

**深度解析与证明：**

我们要证明四个命题等价，最清晰的逻辑链条通常是循环证明：$(i) \Rightarrow (ii) \Rightarrow (iii) \Rightarrow (iv) \Rightarrow (i)$。

#### **证明步骤 1：由 (i) 推导 (ii)**
* **假设 (i) 成立**：映射 $\sigma: \coprod R_i \to R$ 是一个同构（即既是满射又是单射）。
* **分析**：
    * $\sigma$ 的定义是将直和中的元素序列 $(r_i)_{i \in I}$ 映射为它们的和 $\sum r_i$。
    * 因为 $\sigma$ 是同构，所以它是**双射**（一一对应）。
* **推导 (ii)**：
    * 对于 $R$ 中的任意元素 $r$，因为 $\sigma$ 是满射，所以必然存在一个序列 $(r_i) \in \coprod R_i$ 使得 $\sigma((r_i)) = r$，即 $\sum r_i = r$。这说明表示形式**存在**。
    * 因为 $\sigma$ 是单射，所以这个序列 $(r_i)$ 是唯一的。如果有另一种表示 $r = \sum r'_i$，则意味着 $\sigma((r'_i)) = r$。由单射性，$(r_i) = (r'_i)$，即每一项 $r_i = r'_i$。这说明表示形式是**唯一**的。
* **结论**：(ii) 成立。

#### **证明步骤 2：由 (ii) 推导 (iii)**
* **假设 (ii) 成立**：$R$ 中**任意**元素都有唯一的和表示。
* **分析**：
    * 既然是“任意元素”，那么对于特殊元素 **0** (零元) 自然也成立。
* **推导 (iii)**：
    * 显然，$0 = \sum_{i \in I} 0$ 是 0 的一种表示法（每一项都取 0）。
    * 根据 (ii) 的唯一性，这必须是 0 的**唯一**表示法。也就是说，不可能存在不全为 0 的 $r_i$ 使得 $\sum r_i = 0$。
* **结论**：(iii) 成立。

#### **证明步骤 3：由 (iii) 推导 (iv)**
* **假设 (iii) 成立**：$0$ 只能唯一地表示为所有项均为 0 的和。
* **目标**：证明 $R_k \cap (\sum_{j \neq k} R_j) = \{0\}$。
* **推导**：
    * 取交集中的任意一个元素 $x$。
    * 一方面，$x \in R_k$，所以我们可以把 $x$ 看作第 $k$ 项。
    * 另一方面，$x \in \sum_{j \neq k} R_j$，这意味着 $x$ 可以写成其他理想中元素的和：$x = \sum_{j \neq k} r_j$，其中 $r_j \in R_j$。
    * 现在我们将两边相减（移项），构造一个等于 0 的式子：
        $$x - \sum_{j \neq k} r_j = 0$$
        或者写成规范的和的形式：
        $$(-x) + \sum_{j \neq k} r_j = 0$$
    * 注意看这个式子：
        * 第 $k$ 个位置的元素是 $-x$（属于 $R_k$）。
        * 第 $j$ ($j \neq k$) 个位置的元素是 $r_j$（属于 $R_j$）。
        * 它们的总和是 0。
    * 利用假设 (iii)“0 的表示是唯一的”：
        这就意味着上述表达式中的每一项都必须必须是 0。
        特别是第 $k$ 项：$-x = 0 \implies x = 0$。
* **结论**：交集里只有 0 元素，所以 $R_k \cap (\sum_{j \neq k} R_j) = \{0\}$，(iv) 成立。

#### **证明步骤 4：由 (iv) 推导 (i)**
* **假设 (iv) 成立**：每个 $R_k$ 都与其余理想的和互不干扰（交集为 0）。
* **目标**：证明 $\sigma$ 是同构。
* **推导**：
    * **满射性**：题目已知 $R = \sum R_i$，这意味着 $R$ 中任何元素都能写成有限个 $R_i$ 元素的和。所以 $\sigma$ 天然是满射。
    * **单射性**：我们需要证明 $\ker \sigma = \{0\}$。
        设 $(r_i)_{i \in I}$ 是 $\ker \sigma$ 中的一个元素。这意味着：
        $$\sigma((r_i)) = \sum_{i \in I} r_i = 0$$
        我们要证明所有的 $r_i$ 都必须是 0。
    * 对于任意的下标 $k$，我们将上式中的 $r_k$ 单独留在一边，其他的移到另一边：
        $$r_k = - \sum_{j \neq k} r_j$$
    * 观察等式两边：
        * 左边 $r_k \in R_k$。
        * 右边 $- \sum_{j \neq k} r_j \in \sum_{j \neq k} R_j$（因为理想对加法封闭）。
    * 所以，$r_k$ 既属于 $R_k$，又属于 $\sum_{j \neq k} R_j$。
    * 根据假设 (iv)，这个交集只有 $\{0\}$，所以 $r_k = 0$。
    * 既然 $k$ 是任意的，那么所有的 $r_i$ 都是 0。
    * 这说明 $\ker \sigma = \{0\}$，即 $\sigma$ 是单射。
* **结论**：既是单射又是满射，$\sigma$ 是同构，(i) 成立。

**证毕。**

---

### **题目 2：验证中国剩余定理中的映射是同态**

**题目内容：**
假设 $R$ 是一个幺环，且 $I_1, \dots, I_n$ 是理想。定义映射 $\phi: R \to \bigoplus_{k=1}^n (R/I_k)$ 如下：
$$\phi(x) = (x+I_1, x+I_2, \dots, x+I_n)$$
请证明 $\phi$ 是一个同态 (Homomorphism)。

**深度解析与证明：**

要证明一个映射 $\phi$ 是环同态，我们需要验证它保持环的两个基本运算：**加法**和**乘法**。如果 $R$ 是幺环（有单位元 1），通常还需要验证它保持**单位元**。

设 $x, y \in R$ 是环中的任意两个元素。

#### **1. 保持加法**
我们需要证明 $\phi(x+y) = \phi(x) + \phi(y)$。

* **计算左边**：
    $$\phi(x+y) = ((x+y)+I_1, (x+y)+I_2, \dots, (x+y)+I_n)$$
    根据商环加法的定义 $(a+I) + (b+I) = (a+b)+I$，我们可以把每一项拆开。
* **计算右边**：
    $$
    \begin{aligned}
    \phi(x) + \phi(y) &= (x+I_1, \dots, x+I_n) + (y+I_1, \dots, y+I_n) \\
    &= ((x+I_1) + (y+I_1), \dots, (x+I_n) + (y+I_n)) \\
    &= ((x+y)+I_1, \dots, (x+y)+I_n)
    \end{aligned}
    $$
* **比较**：左边 = 右边。所以 $\phi$ 保持加法。

#### **2. 保持乘法**
我们需要证明 $\phi(xy) = \phi(x)\phi(y)$。

* **计算左边**：
    $$\phi(xy) = (xy+I_1, xy+I_2, \dots, xy+I_n)$$
* **计算右边**：
    $$
    \begin{aligned}
    \phi(x)\phi(y) &= (x+I_1, \dots, x+I_n) \cdot (y+I_1, \dots, y+I_n) \\
    &\quad \text{直和(积)中的乘法是按分量相乘：} \\
    &= ((x+I_1)(y+I_1), \dots, (x+I_n)(y+I_n)) \\
    &\quad \text{根据商环乘法定义 } (a+I)(b+I) = ab+I \text{：} \\
    &= (xy+I_1, \dots, xy+I_n)
    \end{aligned}
    $$
* **比较**：左边 = 右边。所以 $\phi$ 保持乘法。

#### **3. 保持单位元（如果 $R$ 是幺环）**
设 $1_R$ 是 $R$ 的单位元。直和环 $\bigoplus (R/I_k)$ 的单位元是每个分量的单位元组成的序列，即 $(1_R+I_1, \dots, 1_R+I_n)$。

* **计算**：
    $$\phi(1_R) = (1_R+I_1, 1_R+I_2, \dots, 1_R+I_n)$$
* 这正是右边直和环的单位元。

**结论：**
$\phi$ 保持加法、乘法和单位元，因此 $\phi$ 是一个环同态。

**证毕。**

---

### **题目 3：寻找一般线性群的 Sylow $p$-子群 (P64 第21题)**

**题目内容：**
设 $p$ 是素数, $F = \mathbb{Z}/p\mathbb{Z}$ (即有限域 $\mathbb{F}_p$), $G = \mathrm{GL}_n(F)$ (即 $n \times n$ 可逆矩阵构成的群)。具体写出 $G$ 的一个 Sylow $p$ 子群。

**深度解析与解答：**

要找到 Sylow $p$-子群，我们需要先算出群 $G$ 的总元素个数（阶），找出其中包含的 $p$ 的最高次幂 $p^m$，然后找到一个子群，其大小恰好是 $p^m$。

#### **步骤 1：计算 $G = \mathrm{GL}_n(\mathbb{F}_p)$ 的阶**
一个 $n \times n$ 矩阵是可逆的，当且仅当它的行向量是线性无关的。我们可以通过逐行构造的方式来计数：

1.  **第一行**：可以是除了零向量 $(0, \dots, 0)$ 以外的任意向量。
    * 总向量数是 $p^n$，排除零向量，所以有 $p^n - 1$ 种选择。
2.  **第二行**：可以是除了第一行的倍数以外的任意向量。
    * 第一行生成的子空间有 $p$ 个元素。所以有 $p^n - p$ 种选择。
3.  **第三行**：不能在前两行生成的平面内。
    * 前两行生成的子空间有 $p^2$ 个元素。所以有 $p^n - p^2$ 种选择。
4.  ...以此类推...
5.  **第 $k$ 行**：有 $p^n - p^{k-1}$ 种选择。

所以，$G$ 的阶为：
$$|G| = (p^n - 1)(p^n - p)(p^n - p^2) \cdots (p^n - p^{n-1})$$

#### **步骤 2：确定 $|G|$ 中 $p$ 的最高次幂**
我们需要从上面的乘积中提取出所有的因子 $p$。
我们将每一项提取公因子 $p$：
* 第 1 项：$(p^n - 1)$ —— 没有因子 $p$。
* 第 2 项：$(p^n - p) = p(p^{n-1} - 1)$ —— 有 **1** 个 $p$。
* 第 3 项：$(p^n - p^2) = p^2(p^{n-2} - 1)$ —— 有 **2** 个 $p$。
* ...
* 第 $n$ 项：$(p^n - p^{n-1}) = p^{n-1}(p - 1)$ —— 有 **$n-1$** 个 $p$。

将这些 $p$ 的幂次加起来：
$$\text{总幂次} = 0 + 1 + 2 + \cdots + (n-1) = \frac{n(n-1)}{2}$$

因此，$|G| = p^{\frac{n(n-1)}{2}} \cdot m$，其中 $m$ 与 $p$ 互素。
这意味着 Sylow $p$-子群的阶必须严格等于 **$p^{\frac{n(n-1)}{2}}$**。

#### **步骤 3：构造 Sylow $p$-子群**
我们需要寻找一个子群，其结构简单且大小正好是 $p^{\frac{n(n-1)}{2}}$。
考虑**上三角矩阵**的一个特殊子类：**对角线上全为 1 的上三角矩阵**（Unitriangular matrices）。

设 $U$ 为所有形式如下的矩阵集合：
$$
\begin{pmatrix}
1 & a_{12} & a_{13} & \cdots & a_{1n} \\
0 & 1 & a_{23} & \cdots & a_{2n} \\
0 & 0 & 1 & \cdots & a_{3n} \\
\vdots & \vdots & \vdots & \ddots & \vdots \\
0 & 0 & 0 & \cdots & 1
\end{pmatrix}
$$
其中 $a_{ij} \in \mathbb{F}_p$。

**验证 $U$ 的大小：**
* 对角线元素固定为 1（无选择）。
* 下三角元素固定为 0（无选择）。
* 上三角区域（对角线右上方）的元素 $a_{ij}$ 可以任意选择。
* 上三角区域的元素个数有多少个？
    * 第 1 行有 $n-1$ 个自由位置。
    * 第 2 行有 $n-2$ 个自由位置。
    * ...
    * 第 $n-1$ 行有 $1$ 个自由位置。
    * 总自由位置数 = $(n-1) + (n-2) + \dots + 1 = \frac{n(n-1)}{2}$。

因为每个位置有 $p$ 种选择，所以 $U$ 的总元素个数为：
$$|U| = p^{\frac{n(n-1)}{2}}$$

**验证 $U$ 是子群：**
两个上三角且对角线为1的矩阵相乘，结果仍然是上三角且对角线为1；其逆矩阵也是同种形式。（这是一个经典结论）。

#### **结论**
$G = \mathrm{GL}_n(\mathbb{F}_p)$ 的一个 Sylow $p$-子群是：
**由所有对角线元素为 1 的上三角矩阵构成的子群。**
（通常记作 $U_n(\mathbb{F}_p)$ 或 $\mathrm{UT}_n(\mathbb{F}_p)$）。