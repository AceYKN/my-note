# 子环、理想与商环

## 1. 课程总览：群论与环论的类比
环论的学习可以类比群论。通过对比，我们可以更直观地理解新概念。

| 群论概念 (Group Theory) | 环论对应概念 (Ring Theory) | 备注 |
| :--- | :--- | :--- |
| **子群** (Subgroup) | **子环** (Subring) | 性质相似 |
| **正规子群** (Normal Subgroup) | **理想** (Ideal) | 都在构建商结构时起关键作用 |
| **商群** (Quotient Group) | **商环** (Quotient Ring) | 由理想对应的陪集构成的环 |

---

## 2. 子环 (Subring)

### 2.1 定义与基本性质
设 $(R, +, \cdot)$ 是一个环，$S \subseteq R$ 是其子集。
如果 $S$ 在 $R$ 原有的**加法**和**乘法**运算下依然构成一个环，则称 $S$ 是 $R$ 的子环，记为 $S \le R$。

* **性质**：如果 $R$ 是交换环，则子环 $S$ 也是交换环。
* **注意（与群论的区别）**：
    * 群论中，子群的单位元一定等于大群的单位元。
    * **环论中，子环的单位元可能与大环不同，甚至可能没有单位元。**
    * *例*：$2\mathbb{Z}$ 是 $\mathbb{Z}$ 的子环，但无单位元；$\mathbb{Z} \oplus \{0\}$ 是 $\mathbb{Z} \oplus \mathbb{Z}$ 的子环，单位元不同。

---

## 3. 理想 (Ideal)

### 3.1 定义：左理想、右理想与双侧理想
在非交换环中，乘法有左右之分，因此必须严格区分乘法的“吸收”方向。

设 $I$ 是环 $R$ 的一个子环（首先它是加法子群）：

1.  **左理想 (Left Ideal)**：
    对任意 $r \in R, x \in I$，都有 $rx \in I$。（$R$ 中的元素从**左边**乘进去，结果仍在 $I$ 中）。
2.  **右理想 (Right Ideal)**：
    对任意 $r \in R, x \in I$，都有 $xr \in I$。（$R$ 中的元素从**右边**乘进去，结果仍在 $I$ 中）。
3.  **理想 (Ideal / Two-sided Ideal)**：
    如果 $I$ 既是左理想又是右理想，称 $I$ 为**理想**，记为 $I \triangleleft R$。

> **注**：若 $R$ 是交换环，则 $rx = xr$，此时左理想、右理想、理想是等价概念。

### 3.2 补充案例分析（例 3.2.1 详解）
这是一个经典的非交换环例子，老师课堂上略过了一部分，这里补充完整。

**例 3.2.1**：全矩阵环 $M(n, \mathbb{R})$ 只有平凡理想（即 $\{0\}$ 和 $R$ 本身）。这种只有平凡理想的环称为**单环 (Simple Ring)**。
*但是，它拥有非平凡的左理想或右理想。*

**证明部分（单环性质）：**
设 $I$ 是 $M(n, \mathbb{R})$ 的一个非零理想。我们要证明 $I = M(n, \mathbb{R})$。
1.  因为 $I \neq \{0\}$，所以存在非零矩阵 $A \in I$。记 $A = (a_{ij})$。
2.  既然 $A \neq 0$，至少存在一个元素 $a_{i_0 j_0} \neq 0$。
3.  利用矩阵单位 $E_{pq}$（第 $p$ 行第 $q$ 列为 1，其余为 0 的矩阵）。我们构造运算：
    $$E_{i i_0} A E_{j_0 j}$$
    这个运算的效果是将 $A$ 的第 $i_0$ 行移到第 $i$ 行，第 $j_0$ 列移到第 $j$ 列，并把其他元素“切除”。结果仅在 $(i, j)$ 位置留下 $a_{i_0 j_0}$。即：
    $$E_{i i_0} A E_{j_0 j} = a_{i_0 j_0} E_{ij}$$
4.  因为 $I$ 是理想，且 $E_{i i_0}, E_{j_0 j} \in R$，根据吸收律，上式结果必须在 $I$ 中。
    即 $a_{i_0 j_0} E_{ij} \in I$。
5.  因为 $a_{i_0 j_0}$ 是非零实数，其逆元存在。利用理想性质再次乘以标量（或对角阵）：
    $$E_{ij} = \frac{1}{a_{i_0 j_0}} (a_{i_0 j_0} E_{ij}) \in I$$
6.  这意味着所有基本矩阵单位 $E_{ij}$ 都在 $I$ 中。由于任意矩阵 $M$ 都是 $E_{ij}$ 的线性组合，所以整个环 $M(n, \mathbb{R}) \subseteq I$。
7.  故 $I = M(n, \mathbb{R})$。证毕。

**作业补充（非平凡的左/右理想）：**
* **左理想例子**：所有**第 $k$ 列全为 0** 的矩阵集合 $L$。
    * *验证*：设 $B \in L$，即 $B$ 的第 $k$ 列为 0。设 $A$ 是任意矩阵。
    * 考虑乘积 $C = AB$。$C$ 的第 $k$ 列元素为 $c_{ik} = \sum_j a_{ij} b_{jk}$。
    * 因为 $b_{jk} = 0$（对所有 $j$），所以 $c_{ik} = 0$。
    * 即 $AB$ 的第 $k$ 列也是 0，所以 $AB \in L$。
    * 所以 $L$ 是左理想。但它不是右理想（右乘一个矩阵可以将其他列的数据加到第 $k$ 列）。

---

## 4. 由子集生成的理想 (Generated Ideals)


### 4.1 定义与交集性质
**定义 3.2.4**：设 $S \subseteq R$（或记为 $M \subseteq R$）。**包含 $S$ 的最小的理想**称为由 $S$ 生成的理想，记为 $<S>$ 或 $<M>$。
如果 $<M>$ 可以由有限集生成，称该理想是**有限生成**的。如果由一个元素生成，称为**主理想**。

**命题 3.2.6**（构造性定义）：
$$< M > = \bigcap_{M \subseteq H \triangleleft R} H$$
即：所有包含 $M$ 的理想的交集。特别地，如果 $M$ 本身就是理想，则 $<M> = M$。

### 4.2 生成理想的元素形式（公式解析）
根据环的不同性质（是否有单位元、是否交换），生成理想中元素的具体样子是不同的。这是因为我们需要通过“补丁”来强行满足理想的定义（加法封闭、左右乘封闭）。

**情况 1：最一般的环（非交换、无单位元）**
$$
< M > = \left\{ \sum_{\text{finite}} (a_i m_i + r_j m_j' + m_k'' r_k' + r_t'' m_t''' r_t''') \;\middle|\; \begin{aligned} &a \in \mathbb{Z} \text{ (整数倍)}, \\ &m \in M, r \in R \end{aligned} \right\}
$$
* **解读**：
    * $a_i m_i$：保证它是加法子群（整数倍）。
    * $r_j m_j'$：保证左吸收律（左乘）。
    * $m_k'' r_k'$：保证右吸收律（右乘）。
    * $r m r$：保证双侧乘积。
    * 这四种形式的有限和，是包含 $M$ 且满足理想定义的最小集合。

**情况 2：交换环 (Commutative Ring)**
由于 $rm = mr$，左右乘不分家。
$$
< M > = \left\{ \sum_{\text{finite}} r_i m_i r_i' \;\middle|\; r, r' \in R, m \in M \right\} = RMR
$$
*(注：如果环没有单位元，可能还需要加上整数倍项 $n m$)*

**情况 3：有单位元的交换环 (Commutative Ring with Unity)**
这是最常见的情况。因为有单位元 $1$，整数倍 $n m$ 可以写成 $(n \cdot 1)m$，被 $rm$ 形式覆盖。
$$
< M > = \left\{ \sum_{\text{finite}} r_i m_i \;\middle|\; r_i \in R, m_i \in M \right\} = RM
$$
特别地，对于主理想 $< a >$，就是 $Ra = \{ra \mid r \in R\}$。

---

## 5. 理想的运算

设 $I, J$ 是环 $R$ 的两个理想。

### 5.1 交集 $I \cap J$
**命题**：$I \cap J$ 是一个理想。
**证明**：
1.  **子群判定**：若 $a, b \in I \cap J$，则 $a, b \in I$ 且 $a, b \in J$。因 $I, J$ 是加法群，故 $a-b \in I$ 且 $a-b \in J$，即 $a-b \in I \cap J$。
2.  **吸收律**：设 $x \in I \cap J, r \in R$。
    * $x \in I \implies rx \in I$ 且 $xr \in I$（因 $I$ 是理想）。
    * $x \in J \implies rx \in J$ 且 $xr \in J$（因 $J$ 是理想）。
    * 所以 $rx, xr \in I \cap J$。
    * **结论**：$I \cap J$ 是理想。

### 5.2 和 $I + J$
**定义**：$I + J = \{ a + b \mid a \in I, b \in J \}$。
**命题**：$I + J$ 是一个理想。
**证明**：
1.  **子群判定**：设 $x = a_1 + b_1, y = a_2 + b_2 \in I+J$。
    $x - y = (a_1 - a_2) + (b_1 - b_2)$。由于 $I, J$ 是子群，$(a_1 - a_2) \in I, (b_1 - b_2) \in J$。故差仍在 $I+J$ 中。
2.  **吸收律**：设 $x = a + b \in I+J$，$r \in R$。
    $rx = r(a + b) = ra + rb$。
    因 $I$ 是理想 $\implies ra \in I$。因 $J$ 是理想 $\implies rb \in J$。
    所以 $rx \in I + J$。右乘同理。
    * **结论**：$I + J$ 是理想（且是包含 $I$ 和 $J$ 的最小理想）。

### 5.3 积 $IJ$
**定义**：$IJ = \{ \sum_{k=1}^n a_k b_k \mid a_k \in I, b_k \in J, n \in \mathbb{N} \}$（注意是有限和形式）。
**命题**：$IJ$ 是一个理想。
**证明**：
1.  **子群判定**：由定义知，$IJ$ 对加法和减法封闭（因为它是有限和的集合）。
2.  **吸收律**：只需对单个项 $ab$ 验证，有限和自然满足。
    设 $x = ab$，其中 $a \in I, b \in J$。设 $r \in R$。
    * $r x = r (ab) = (ra) b$。因为 $I$ 是左理想，$ra \in I$。所以 $(ra)b$ 仍是形如 "(I中元素)(J中元素)" 的形式，属于 $IJ$。
    * $x r = (ab) r = a (br)$。因为 $J$ 是右理想，$br \in J$。所以 $a(br)$ 仍属于 $IJ$。
    * **结论**：$IJ$ 是理想。
    * *注意*：一般情况下 $IJ \subseteq I \cap J$。

---

## 6. 商环 (Quotient Ring)

### 6.1 构造与良定性
我们需要 $I$ 是**理想**（而不仅仅是子环），是为了保证商环上的乘法运算是**良定 (well-defined)** 的。

* **集合**：$R/I = \{ r + I \mid r \in R \}$（陪集）。
* **加法**：$(a + I) + (b + I) = (a + b) + I$。
* **乘法**：$(a + I)(b + I) = ab + I$。

**乘法良定性证明**：
若 $a' \in a+I, b' \in b+I$，设 $a' = a+x, b'=b+y$ ($x, y \in I$)。
$$a'b' = (a+x)(b+y) = ab + \underbrace{ay}_{\in I (\text{左吸})} + \underbrace{xb}_{\in I (\text{右吸})} + \underbrace{xy}_{\in I (\text{封闭})}$$
差值在 $I$ 中，故代表元选取不影响结果。

### 6.2 商环的性质传承
商环 $R/I$ 会继承原环 $R$ 的部分优良性质：
1.  **交换性**：如果 $R$ 是交换环，则 $R/I$ 也是交换环。
    * *理由*：$(a+I)(b+I) = ab+I = ba+I = (b+I)(a+I)$。
2.  **单位元**：如果 $R$ 是幺环（有单位元 $1$），则 $R/I$ 也是幺环。
    * **单位元形式**：$1 + I$。
    * *验证*：$(a+I)(1+I) = a \cdot 1 + I = a + I$。